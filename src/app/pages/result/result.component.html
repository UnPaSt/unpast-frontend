<div
  class="text-light px-4 py-5 mb-5 text-center"
  [ngClass]="{
    'bg-success': taskData.status === 'Done',
    'bg-warning': taskData.status !== 'Done'
  }"
>
  <h1 class="display-5 fw-bold text-white">
    Task Status: {{ taskData.status }}
  </h1>
</div>

<ul
  class="nav nav-tabs mb-3 justify-content-center"
  id="tabs-tab"
  role="tablist"
>
  <li class="nav-item" role="presentation">
    <button
      #tabsResultTab
      class="nav-link btn btn-secondary text-dark"
      id="tabsResultTab"
      data-bs-toggle="tab"
      data-bs-target="#tabs-result"
      type="button"
      role="tab"
      aria-controls="tabs-result"
      aria-selected="true"
    >
      Result
    </button>
  </li>
  <li class="nav-item" role="presentation">
    <button
      class="nav-link active btn btn-secondary text-dark"
      id="tabs-parameters-tab"
      data-bs-toggle="tab" data-bs-target="#tabs-parameters" type="button" role="tab" aria-controls="home" aria-selected="true"
    >
      Parameters
    </button>
  </li>
</ul>
<div class="tab-content" id="tabs-tabContent">
  <div
    class="tab-pane fade"
    id="tabs-result"
    role="tabpanel"
    aria-labelledby="tabsResultTab"
  >
    <div class="container-fluid px-4 py-5" *ngIf="taskData.result">
      <h1 class="display-8 fw-bold text-center">Task Result</h1>
      <div class="rows">
        <div class="row">
          <app-bicluster-table [taskData]="taskData"></app-bicluster-table>
        </div>
      </div>

      <a id="heatmap"></a>
      <div
        class="container-fluid px-4 py-5"
        [ngClass]="{ 'd-none': !resultService.showHeatmap }"
      >
        <h1 class="display-10 fw-bold  text-center">Heatmap</h1>
        <app-heatmap [key]="key"></app-heatmap>
      </div>

      <a id="network"></a>
      <div
        class="container-fluid px-4 py-5"
        [ngClass]="{ 'd-none': !resultService.showNetwork }"
      >
        <h1 class="display-10 fw-bold text-center">Network</h1>
        <app-drugstone></app-drugstone>
      </div>
    </div>

    <div class="container-fluid px-4 py-5" *ngIf="!taskData.result">
      <h1 class="display-8 fw-bold  text-center">Task not yet finished...</h1>
    </div>
  </div>
  <div
    class="tab-pane fade show active"
    id="tabs-parameters"
    role="tabpanel"
    aria-labelledby="tabs-parameters-tab"
  >
    <div class="container-fluid px-4 py-5">
      <h1 class="display-8 fw-bold  text-center">Task Parameters</h1>
      <div class="col-lg-8 mx-auto">
        <app-parameters
          [seed]="taskData.query.seed"
          [alpha]="taskData.query.alpha"
          [pValue]="taskData.query.pValue"
          [selectedBinarizationMethod]="taskData.query.binarization"
          [selectedClusteringMethod]="taskData.query.clustering"
          [r]="taskData.query.r"
          [email]="taskData.query.mail"
          [name]="taskData.query.name"
          [fileName]="taskData.query.exprs"
          [fileId]="taskData.query.id"
          [alreadyOnServer]="true"
        ></app-parameters>
      </div>
    </div>
  </div>
</div>
